name: CI

on:
  push:
    branches: [ main, setup-task, eda-* ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Set up Python 3.10
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install pandas numpy matplotlib seaborn scipy streamlit plotly

    - name: Validate dashboard environment
      run: |
        echo '=== Testing Essential Dashboard Packages ==='
        python -c 'import pandas as pd; print(\"✅ pandas:\", pd.__version__)'
        python -c 'import numpy as np; print(\"✅ numpy:\", np.__version__)'
        python -c 'import matplotlib; print(\"✅ matplotlib - plotting\")'
        python -c 'import seaborn; print(\"✅ seaborn - visualizations\")'
        python -c 'import streamlit; print(\"✅ streamlit - dashboard\")'
        python -c 'import plotly; print(\"✅ plotly - interactive charts\")'
        
        # Test optional packages
        python -c '
try:
    import statsmodels
    print(\"✅ statsmodels - statistical models\")
except ImportError:
    print(\"⚠️  statsmodels not installed (optional)\")
'
        
        echo '🎉 Dashboard environment ready!'
